---
bibliography: papers.bib
csl: 'chinese-gb7714-2005-numeric.csl'
fignos-cleveref: True
fignos-plus-name: 图
fignos-caption-name: 图
---
## 浮点数介绍

### 一个例子
十进制数10.625转换为二进制表示：

整数部分：

$10\div 2 = 5....0  \leftarrow 2^0位\longrightarrow 0$

$ 5\div 2 = 2.....1  \leftarrow 2^1位\longrightarrow 1$

$ 2\div 2 =1.....0  \leftarrow 2^2位\longrightarrow 0$

$ 1\div 2 =5.....1  \leftarrow 2^3位\longrightarrow 1$

小数部分：

$0.625* 2 =1.25 \leftarrow 2^{-1}位\longrightarrow 1$

$0.25* 2 =0.5 ...\leftarrow 2^{-2}位\longrightarrow 0$

$0.5* 2 =1 .... ..\leftarrow 2^{-3}位\longrightarrow 1$

结果为：1010.101， 这只是一个显示在纸面上的值，在计算机内部，小数是以浮点数形式处理。
调用函数
```
>>> dec2bin_ex(10.625)
([1, 0, 1, 0], [1, 0, 1])
```


```
def   dec2bin_ex(target):
	#将target分离成整数和小数部分
	i= int(target) #整数部分
	f = target - i #小数部分

	#将整数部分转换位二进制数  （1）
	a = [] #剩余部分列表

	#直到商为0
	while i !=0:
		a.append(i%2) #余数
		i = i//2 #商

    #把元素按相反的顺序排列
	a.reverse()

	#将小数部分转换为二进制数 （2）
	b =[] #带有整数部分列表
	n =0 # 重复次数

	#乘以2直到小数部分为0
	while (f !=0):
		temp =f*2 #小数部分*2
		b.append(int(temp)) #整数部分
		f = temp -int(temp) #小数部分
		n+=1
		if(n>=10):   #（3）
			break

	#值转换为二进制
	return a,b

```
首先，我们把给定的参数target分成整数和小数部分，int()获取整数部分。从target减去这个值，就得到了小数部分，随后代码部分（1）将整数部分转换为二进制数，代码部分（2）是转换小数部分。将小数部分乘以2,然后将结果整数部分加到列表中，重复过程，直到小数部分为0。代码部分（3）是10次迭代后推出循环的指令。这与计算及求解误差有关。


### 计算机如何处理浮点数
十进制数10.625转换为二进制，1010.101。那么0.1呢？ 0.000110011001100...后面会一直持续下去，但就目前而言，如果结果取小数点后十位，就是0.0001100110,然而这只是书面上的表述。“.”不能在计算机世界中使用。在计算机世界，我们使用指数来表达这些值，即浮点数（见图）。符号部分与符号为相同，0代表正数，1代表负数，以此类推。剩下的指数部分和小数部分的数值由小数点的位置决定。
@startsalt
scale 2
{#
 符号 部分| 指数部分 | 小数部分
}
@endsalt

首先，移动小数点位置，使二进制的整数部分变成1。例如将1010.101的小数向左移动3位，得1.010101。如果再乘以移动位数的权重，则为 $1.010101 \times 2^3$,这样就可以恢复原来的值。亦同样的方法，我们用指数来表示0.000110011001100,这次，我们将小数向右移动4位，得到 $1.100110 \times 2^{-4}$。小数向右移动一位，数值变为原来的2倍、4倍......还原的话必须变为$\frac1 2$、$\frac 1 4$....

@startuml

state 十进制1 ##[bold]green : 10.625

state 二进制1 ##[bold]green : 1010.101

state 机器码1 ##[dotted]gold:<math>1.010101\times2^3</math>

state 机器码2 ##[dotted]gold:<math>1.100110\times2^{-4}</math>


state  十进制2  ##[bold]green: 0.1
state  二进制2 ##[bold]green:0.0001100110

十进制1 -> 二进制1
二进制1 ->机器码1
十进制2 ->二进制2
二进制2 ->机器码2
机器码1 -->机器码2

@enduml

现在，通过这种方法，你可以将任何数值表示为“1.XXXXX...$\times 2^n$”。为了得到“1.XXXXX...$\times 2^n$”，可以吧小数点向左向右移动，这就是浮点数，数字的小数部分指的是小数点后的部分，指数部分指的是“n”